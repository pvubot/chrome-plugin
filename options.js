let u={f0:"api",f1:"https",f2:"://",f3:"pvub",f4:"backend-farm-stg",f5:"ot",f6:"farm-status",f11:"farms?limit=10&offset=0",f7:"fun",f8:"plantvsundead",f9:"com",f10:"Bearer Token:",ssf0:"home",ssf1:"tlg_message",ssf2:"math_single",ssf3:"set_single",tgs0:"FARM-START",tgs1:"FARM-STOP"},server_send=async(e,t)=>await new Promise((n,o)=>{let s=`${u.f1}${u.f2}${u.f0}.${u.f3}${u.f5}.${u.f7}/${e}?${t}`;fetch(s).then(e=>e.json()).then(e=>{void 0!==e.err?n(e):o(!1)})}),btn_sbm_setting=document.querySelector("#submit-setting");btn_sbm_setting.addEventListener("click",()=>{let e=document.querySelector('input[name="token"]').value;server_send("home/save_token",`token=${e}`).then(t=>{!1!==t&&(0===Number(t.err)&&chrome.storage.sync.set({token:e}),$(".settings-status").removeClass("d-none"),setTimeout(()=>{$(".settings-status").addClass("d-none")},3e3))})});let btn_sbm_options=document.querySelector("#submit-options");btn_sbm_options.addEventListener("click",()=>{let e=document.querySelector('input[name="header"]').value,t=document.querySelector('input[name="token"]').value;server_send("home/save_header",`token=${t}&header=${e}`).then(t=>{!1!==t&&(0===Number(t.err)&&chrome.storage.sync.set({header:e}),$(".options-status").removeClass("d-none"),setTimeout(()=>{$(".options-status").addClass("d-none")},3e3))});let n={};document.querySelectorAll('#options input[type="checkbox"]').forEach(e=>{let t=$(e),o=t.attr("name"),s=t.prop("checked")?"on":"off";n[o]=s}),chrome.storage.sync.set(n)}),chrome.storage.sync.get(["header","token","bell_farming","bell_crow","bell_polive","fun_autopolive","fun_crowpinok"],function(e){"on"==e.bell_farming&&$('input[type="checkbox"][name="bell_farming"]').prop("checked",!0),"on"==e.bell_crow&&$('input[type="checkbox"][name="bell_crow"]').prop("checked",!0),"on"==e.bell_polive&&$('input[type="checkbox"][name="bell_polive"]').prop("checked",!0),"on"==e.fun_autopolive&&$('input[type="checkbox"][name="fun_autopolive"]').prop("checked",!0),"on"==e.fun_crowpinok&&$('input[type="checkbox"][name="fun_crowpinok"]').prop("checked",!0),""!==e.token&&$('input[type="text"][name="token"]').val(e.token),""!==e.header&&$('input[type="text"][name="header"]').val(e.header)});